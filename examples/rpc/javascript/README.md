# JavaScript gRPC Fallback Sample

This directory contains a sample JavaScript program that calls the Google Natural
Language API using the gRPC Fallback protocol described in
[HowToRPC](https://googleapis.github.io/HowToRPC).

## Protocol Buffer Support

Message serialization requires JavaScript support code which is generated by 
`pbjs` tool (part of [protobuf.js](https://www.npmjs.com/package/protobufjs)).
The generation will be done automatically after `npm install` and the resulting
`.js` file will be placed into `pbjs-genfiles/` folder.

## Authentication

This sample authenticates with an API key that it reads from the
`GOOGLE_API_KEY` environment variable. Alternatively, you can use 
a service account JSON key by pointing `GOOGLE_APPLICATION_CREDENTIALS`
environment variable to a key file.

## Instructions

To run the sample, clone the repository and change directory to `examples/rpc/javascript`.
Set authentication environment variables:

```
export GOOGLE_API_KEY=your-api-key
```

or

```
export GOOGLE_APPLICATION_CREDENTIALS=/path/to/service_account_key.json
```

Run the code:

```
npm install
npm start
```
